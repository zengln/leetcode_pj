# -*- coding:utf-8 -*-
# @Time    : 2021/8/9 8:39
# @Author  : zengln
# @File    : ä¸‘æ•° II.py

# ç»™ä½ ä¸€ä¸ªæ•´æ•° n ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ç¬¬ n ä¸ª ä¸‘æ•° ã€‚
#
#  ä¸‘æ•° å°±æ˜¯åªåŒ…å«è´¨å› æ•° 2ã€3 å’Œ/æˆ– 5 çš„æ­£æ•´æ•°ã€‚
#
#
#
#  ç¤ºä¾‹ 1ï¼š
#
#
# è¾“å…¥ï¼šn = 10
# è¾“å‡ºï¼š12
# è§£é‡Šï¼š[1, 2, 3, 4, 5, 6, 8, 9, 10, 12] æ˜¯ç”±å‰ 10 ä¸ªä¸‘æ•°ç»„æˆçš„åºåˆ—ã€‚
#
#
#  ç¤ºä¾‹ 2ï¼š
#
#
# è¾“å…¥ï¼šn = 1
# è¾“å‡ºï¼š1
# è§£é‡Šï¼š1 é€šå¸¸è¢«è§†ä¸ºä¸‘æ•°ã€‚
#
#
#
#
#  æç¤ºï¼š
#
#
#  1 <= n <= 1690
#
#  Related Topics å“ˆå¸Œè¡¨ æ•°å­¦ åŠ¨æ€è§„åˆ’ å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰
#  ğŸ‘ 709 ğŸ‘ 0


class Solution:
    """
    ä¸‘æ•°çš„è®¡ç®—ï¼š
    ç¬¬ä¸€ä¸ªä¸‘æ•°æ˜¯1
    åé¢çš„ä¸‘æ•°ç­‰äºå‰é¢çš„ä¸‘æ•°ä¹˜ä»¥(2,3,5)å…¶ä¸­ä¸€ä¸ªï¼Œå…¶ä¸­æœ€å°çš„ä¸ºä¸‹ä¸€ä¸ªä¸‘æ•°
    """
    def nthUglyNumber(self, n: int) -> int:
        result = [1]
        p2 = 0
        p3 = 0
        p5 = 0
        # åŠ ä¸Šä¸€ä¸ªwhileæ˜¯ä¸ºäº†é˜²æ­¢å‡ºç°é‡å¤å¶æ•°çš„æƒ…å†µï¼Œä¾‹å¦‚6ï¼š2X3 å’Œ 3X2éƒ½ä¼šå‡ºç°ä¸€æ¬¡ï¼Œä½†æ˜¯åªèƒ½è¦ä¸€ä¸ª
        for i in range(1, n):
            temp = 1
            while temp in result:
                temp = min(result[p2] * 2, result[p3] * 3, result[p5] * 5)
                if temp == result[p2] * 2:
                    p2 += 1
                elif temp == result[p3] * 3:
                    p3 += 1
                else:
                    p5 += 1
            result.append(temp)
        return result[-1]


# å…¶ä»–äººè§£å†³é‡å¤å‡ºç°æ•°å­—çš„é—®é¢˜å†™æ³•
class Solution:
    def nthUglyNumber(self, n: int) -> int:
        dp = [0] * (n + 1)
        dp[1] = 1
        p2 = p3 = p5 = 1

        for i in range(2, n + 1):
            num2, num3, num5 = dp[p2] * 2, dp[p3] * 3, dp[p5] * 5
            dp[i] = min(num2, num3, num5)
            if dp[i] == num2:
                p2 += 1
            if dp[i] == num3:
                p3 += 1
            if dp[i] == num5:
                p5 += 1

        return dp[n]